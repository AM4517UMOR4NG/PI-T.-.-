<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Narasi Use Case Detail - Sistem Rental PlayStation</title>
    <style>
        body {
            font-family: 'Times New Roman', Times, serif;
            background-color: #f5f5f5;
            color: #333;
            padding: 30px;
            line-height: 1.8;
        }

        .use-case-table {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto 60px auto;
            border-collapse: collapse;
            background-color: white;
            border: 2px solid #333;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .use-case-table td {
            border: 1px solid #666;
            padding: 15px 20px;
            vertical-align: top;
        }

        .col-label {
            width: 22%;
            font-weight: bold;
            background-color: #e8e8e8;
            font-size: 0.95em;
        }

        .step-header {
            background-color: #4a90e2;
            color: white;
            font-weight: bold;
            text-align: center !important;
            padding: 12px !important;
        }

        .step-content {
            background-color: #fafafa;
            line-height: 1.7;
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            border-bottom: 3px solid #4a90e2;
            padding-bottom: 15px;
        }

        h2 {
            text-align: center;
            color: #34495e;
        }

        .section-title {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
            padding: 18px;
            margin-top: 70px;
            margin-bottom: 40px;
            border-radius: 8px;
            font-size: 1.4em;
            font-weight: bold;
            letter-spacing: 1px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
        }

        .note {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 10px 15px;
            margin: 10px 0;
            font-style: italic;
        }

        .important {
            background-color: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 10px 15px;
            margin: 10px 0;
            font-weight: bold;
        }
    </style>
</head>

<body>

    <h1>üìã NARASI USE CASE LENGKAP & DETAIL</h1>
    <h2>Sistem Informasi Rental PlayStation</h2>
    <p style="text-align: center; color: #666; font-size: 1.1em;">
        <strong>Total: 22 Use Cases</strong> | Author: Alogo Situmorang (235314088)<br>
        <em>Dokumen ini dibuat dengan penjelasan rinci agar mudah dipahami oleh semua kalangan</em>
    </p>

    <!-- ==================== A. AUTENTIKASI ==================== -->
    <div class="section-title">A. AUTENTIKASI & AKSES SISTEM</div>

    <!-- UC001: LOGIN -->
    <table class="use-case-table">
        <tr>
            <td class="col-label">Nama Use Case</td>
            <td colspan="2"><strong>Login (Masuk ke Sistem)</strong></td>
        </tr>
        <tr>
            <td class="col-label">Use Case ID</td>
            <td colspan="2">RPL-UC001</td>
        </tr>
        <tr>
            <td class="col-label">Author</td>
            <td colspan="2">Alogo Situmorang</td>
        </tr>
        <tr>
            <td class="col-label">Prioritas</td>
            <td colspan="2">Tinggi (High) - Fitur ini wajib ada karena semua pengguna harus login terlebih dahulu</td>
        </tr>
        <tr>
            <td class="col-label">Aktor Utama</td>
            <td colspan="2">Semua Pengguna (Pelanggan, Admin, Kasir, Pemilik)</td>
        </tr>
        <tr>
            <td class="col-label">Deskripsi Lengkap</td>
            <td colspan="2">
                Login adalah proses di mana pengguna membuktikan identitas mereka dengan memasukkan email dan password
                yang sudah terdaftar di sistem.
                Setelah berhasil login, sistem akan mengenali siapa pengguna tersebut dan memberikan akses ke
                fitur-fitur yang sesuai dengan peran mereka
                (misalnya: Pelanggan hanya bisa menyewa, Admin bisa mengelola data, dll).
            </td>
        </tr>
        <tr>
            <td class="col-label">Kondisi Awal</td>
            <td colspan="2">
                Pengguna sudah memiliki akun yang terdaftar di database sistem. Jika belum punya akun, harus registrasi
                dulu (lihat UC002).
            </td>
        </tr>
        <tr>
            <td class="col-label">Pemicu (Trigger)</td>
            <td colspan="2">
                Pengguna ingin mengakses fitur yang memerlukan login, seperti menyewa barang atau melihat dashboard.
            </td>
        </tr>

        <tr>
            <td rowspan="15" class="col-label">Alur Kejadian Normal<br>(Langkah Demi Langkah)</td>
            <td class="step-header">Aksi yang Dilakukan Pengguna</td>
            <td class="step-header">Respon Sistem (Apa yang Terjadi)</td>
        </tr>

        <tr class="step-content">
            <td><strong>Langkah 1:</strong> Pengguna membuka website rental PlayStation di browser
                (Chrome/Firefox/Edge). Di pojok kanan atas halaman, ada tombol biru bertuliskan
                <strong>"Login"</strong>. Pengguna mengklik tombol tersebut.</td>
            <td></td>
        </tr>

        <tr class="step-content">
            <td></td>
            <td><strong>Langkah 2:</strong> Sistem mengarahkan pengguna ke halaman baru yang khusus untuk login. Di
                halaman ini muncul formulir dengan 2 kolom isian:
                <ul>
                    <li><strong>Email:</strong> Kolom untuk memasukkan alamat email</li>
                    <li><strong>Password:</strong> Kolom untuk memasukkan kata sandi (huruf yang diketik akan
                        tersembunyi menjadi titik-titik ‚Ä¢‚Ä¢‚Ä¢ untuk keamanan)</li>
                </ul>
                Di bawah kolom ada tombol besar bertuliskan <strong>"Masuk"</strong>.
            </td>
        </tr>

        <tr class="step-content">
            <td><strong>Langkah 3:</strong> Pengguna mengetik email mereka di kolom pertama (contoh:
                <code>budi@gmail.com</code>) dan mengetik password di kolom kedua (contoh: <code>rahasia123</code>).
                Setelah yakin sudah benar, pengguna mengklik tombol <strong>"Masuk"</strong>.</td>
            <td></td>
        </tr>

        <tr class="step-content">
            <td></td>
            <td><strong>Langkah 4:</strong> Sistem menerima data email dan password yang diketik pengguna. Kemudian
                sistem melakukan pengecekan ke database:
                <ul>
                    <li>Apakah email tersebut terdaftar di database?</li>
                    <li>Apakah password yang dimasukkan cocok dengan password yang tersimpan?</li>
                </ul>
                <div class="note">üí° <strong>Catatan Keamanan:</strong> Password di database disimpan dalam bentuk
                    terenkripsi (Bcrypt), bukan teks biasa, jadi aman dari pencurian data.</div>
            </td>
        </tr>

        <tr class="step-content">
            <td></td>
            <td><strong>Langkah 5:</strong> Jika email dan password cocok, sistem membuat "sesi login" (session). Sesi
                ini seperti tanda pengenal digital yang akan terus aktif selama pengguna belum logout atau menutup
                browser. Dengan sesi ini, sistem bisa mengingat siapa yang sedang login tanpa perlu menanyakan
                email-password lagi di setiap halaman.</td>
        </tr>

        <tr class="step-content">
            <td></td>
            <td><strong>Langkah 6:</strong> Sistem mengecek <strong>peran (role)</strong> pengguna dari database:
                <ul>
                    <li>Jika role = <strong>"Pelanggan"</strong> ‚Üí Arahkan ke Dashboard Pelanggan (halaman untuk menyewa
                        barang)</li>
                    <li>Jika role = <strong>"Admin"</strong> ‚Üí Arahkan ke Dashboard Admin (halaman untuk mengelola data)
                    </li>
                    <li>Jika role = <strong>"Kasir"</strong> ‚Üí Arahkan ke Dashboard Kasir (halaman untuk proses
                        pengiriman)</li>
                    <li>Jika role = <strong>"Pemilik"</strong> ‚Üí Arahkan ke Dashboard Pemilik (halaman untuk melihat
                        laporan)</li>
                </ul>
            </td>
        </tr>

        <tr class="step-content">
            <td></td>
            <td><strong>Langkah 7:</strong> Halaman dashboard muncul dengan pesan sambutan seperti <em>"Selamat Datang,
                    Budi!"</em>. Menu-menu yang sebelumnya terkunci sekarang bisa diakses.</td>
        </tr>

        <tr>
            <td colspan="2" style="background-color: #e3f2fd; padding: 15px;"><strong>üîÑ ALUR ALTERNATIF (Jika Terjadi
                    Kesalahan):</strong></td>
        </tr>

        <tr class="step-content">
            <td><strong>Kesalahan:</strong> Pengguna salah mengetik password atau memasukkan email yang tidak terdaftar.
            </td>
            <td><strong>Respon Sistem:</strong> Sistem menolak login dan tetap berada di halaman login. Muncul kotak
                pesan berwarna merah di atas formulir dengan tulisan: <br><em>"Email atau password yang Anda masukkan
                    salah. Silakan coba lagi."</em></td>
        </tr>

        <tr class="step-content">
            <td>Pengguna membaca pesan error, lalu mencoba login lagi dengan memperbaiki email atau password.</td>
            <td>Sistem kembali melakukan validasi seperti langkah 4.</td>
        </tr>

        <tr>
            <td class="col-label">Kondisi Akhir (Postcondition)</td>
            <td colspan="2">
                Pengguna berhasil masuk ke sistem dan dapat mengakses semua fitur yang sesuai dengan peran mereka. Sesi
                login akan tetap aktif sampai pengguna klik tombol "Logout" atau menutup browser.
            </td>
        </tr>

        <tr>
            <td class="col-label">Aturan Bisnis</td>
            <td colspan="2">
                <ul>
                    <li>Pengguna hanya bisa login jika status akun mereka adalah "Aktif" (bukan "Diblokir" atau
                        "Dihapus")</li>
                    <li>Setelah 5 kali salah memasukkan password, akun akan terkunci sementara selama 15 menit untuk
                        mencegah percobaan peretasan</li>
                </ul>
            </td>
        </tr>
    </table>

    <!-- UC002: REGISTRASI -->
    <table class="use-case-table">
        <tr>
            <td class="col-label">Nama Use Case</td>
            <td colspan="2"><strong>Registrasi Pelanggan Baru</strong></td>
        </tr>
        <tr>
            <td class="col-label">Use Case ID</td>
            <td colspan="2">RPL-UC002</td>
        </tr>
        <tr>
            <td class="col-label">Author</td>
            <td colspan="2">Alogo Situmorang</td>
        </tr>
        <tr>
            <td class="col-label">Aktor Utama</td>
            <td colspan="2">Calon Pelanggan (Pengunjung yang belum punya akun)</td>
        </tr>
        <tr>
            <td class="col-label">Deskripsi Lengkap</td>
            <td colspan="2">
                Registrasi adalah proses pendaftaran akun baru di sistem. Calon pelanggan harus mengisi data diri mereka
                (nama, email, nomor HP, alamat)
                agar sistem bisa membuat akun untuk mereka. Setelah akun dibuat, mereka bisa langsung login dan mulai
                menyewa barang.
            </td>
        </tr>

        <tr>
            <td rowspan="13" class="col-label">Alur Kejadian Normal</td>
            <td class="step-header">Aksi Pengguna</td>
            <td class="step-header">Respon Sistem</td>
        </tr>

        <tr class="step-content">
            <td><strong>Langkah 1:</strong> Pengunjung yang belum punya akun membuka website. Di halaman login, ada
                tulisan kecil di bawah tombol "Masuk" yang berbunyi: <em>"Belum punya akun? <strong>Daftar di
                        sini</strong>"</em>. Pengunjung mengklik link <strong>"Daftar di sini"</strong>.</td>
            <td></td>
        </tr>

        <tr class="step-content">
            <td></td>
            <td><strong>Langkah 2:</strong> Sistem menampilkan halaman Registrasi dengan formulir yang berisi
                kolom-kolom berikut:
                <ol>
                    <li><strong>Nama Lengkap:</strong> Kolom untuk mengetik nama (contoh: "Budi Santoso")</li>
                    <li><strong>Email:</strong> Kolom untuk email yang akan digunakan login (contoh: "budi@gmail.com")
                    </li>
                    <li><strong>Password:</strong> Kolom untuk membuat password baru (minimal 8 karakter)</li>
                    <li><strong>Konfirmasi Password:</strong> Kolom untuk mengetik ulang password yang sama (untuk
                        memastikan tidak salah ketik)</li>
                    <li><strong>Nomor HP:</strong> Kolom untuk nomor telepon yang harus diawali +62 (contoh:
                        "+6281234567890")</li>
                    <li><strong>Alamat Lengkap:</strong> Kolom besar untuk mengetik alamat rumah (minimal 10 kata, agar
                        kurir tidak bingung)</li>
                </ol>
                Di bawah formulir ada tombol hijau besar bertuliskan <strong>"Daftar Sekarang"</strong>.
            </td>
        </tr>

        <tr class="step-content">
            <td><strong>Langkah 3:</strong> Pengunjung mengisi semua kolom dengan data diri mereka. Setelah yakin semua
                sudah benar, mereka mengklik tombol <strong>"Daftar Sekarang"</strong>.</td>
            <td></td>
        </tr>

        <tr class="step-content">
            <td></td>
            <td><strong>Langkah 4:</strong> Sistem melakukan validasi (pengecekan) data:
                <ul>
                    <li>‚úÖ Apakah email belum pernah dipakai orang lain? (Email harus unik)</li>
                    <li>‚úÖ Apakah password minimal 8 karakter?</li>
                    <li>‚úÖ Apakah password dan konfirmasi password sama?</li>
                    <li>‚úÖ Apakah nomor HP diawali dengan +62?</li>
                    <li>‚úÖ Apakah alamat minimal 10 kata? (Contoh yang salah: "Jakarta" ‚Üí terlalu singkat)</li>
                </ul>
                <div class="important">‚ö†Ô∏è Jika ada yang tidak sesuai, sistem akan menampilkan pesan error berwarna merah
                    di bawah kolom yang bermasalah. Contoh: <em>"Email sudah digunakan, gunakan email lain"</em></div>
            </td>
        </tr>

        <tr class="step-content">
            <td></td>
            <td><strong>Langkah 5:</strong> Jika semua validasi lolos, sistem menyimpan data pengguna baru ke database
                dengan status:
                <ul>
                    <li><strong>Role:</strong> "Pelanggan" (bukan Admin/Kasir)</li>
                    <li><strong>Status:</strong> "Aktif"</li>
                    <li><strong>Password:</strong> Dienkripsi dengan Bcrypt sebelum disimpan (untuk keamanan)</li>
                </ul>
            </td>
        </tr>

        <tr class="step-content">
            <td></td>
            <td><strong>Langkah 6:</strong> Sistem secara otomatis melakukan login untuk pengguna baru tersebut
                (auto-login), jadi mereka tidak perlu login manual lagi.</td>
        </tr>

        <tr class="step-content">
            <td></td>
            <td><strong>Langkah 7:</strong> Sistem mengarahkan pengguna ke Dashboard Pelanggan dengan pesan sambutan:
                <em>"Selamat datang di Rental PlayStation! Akun Anda berhasil dibuat."</em></td>
        </tr>

        <tr>
            <td class="col-label">Kondisi Akhir</td>
            <td colspan="2">
                Akun pelanggan baru berhasil dibuat dan tersimpan di database. Pengguna sudah dalam keadaan login dan
                bisa langsung mulai menyewa barang.
            </td>
        </tr>
    </table>


    <!-- ==================== B. PELANGGAN ==================== -->
    <div class="section-title">B. FITUR UNTUK PELANGGAN (PENYEWA)</div>

    <!-- UC007: PEMBAYARAN MIDTRANS (Contoh Detail) -->
    <table class="use-case-table">
        <tr>
            <td class="col-label">Nama Use Case</td>
            <td colspan="2"><strong>Pembayaran Online via Midtrans</strong></td>
        </tr>
        <tr>
            <td class="col-label">Use Case ID</td>
            <td colspan="2">RPL-UC007</td>
        </tr>
        <tr>
            <td class="col-label">Author</td>
            <td colspan="2">Alogo Situmorang</td>
        </tr>
        <tr>
            <td class="col-label">Aktor Utama</td>
            <td colspan="2">Pelanggan</td>
        </tr>
        <tr>
            <td class="col-label">Aktor Pendukung</td>
            <td colspan="2">Midtrans (Sistem Pembayaran Pihak Ketiga)</td>
        </tr>
        <tr>
            <td class="col-label">Deskripsi Lengkap</td>
            <td colspan="2">
                Setelah pelanggan membuat pesanan sewa (checkout), mereka harus membayar tagihan. Sistem menggunakan
                <strong>Midtrans</strong>, yaitu layanan payment gateway yang memungkinkan pembayaran via QRIS, GoPay,
                OVO, Transfer Bank Virtual Account, dll.
                Proses pembayaran ini terjadi secara real-time dan otomatis mengupdate status pesanan setelah uang
                masuk.
            </td>
        </tr>

        <tr>
            <td rowspan="17" class="col-label">Alur Kejadian Normal</td>
            <td class="step-header">Aksi Pelanggan</td>
            <td class="step-header">Respon Sistem</td>
        </tr>

        <tr class="step-content">
            <td><strong>Langkah 1:</strong> Setelah selesai checkout (UC006), pelanggan diarahkan ke halaman Invoice
                (tagihan). Di halaman ini terlihat:
                <ul>
                    <li>Daftar barang yang disewa (nama unit PS, game, dll)</li>
                    <li>Durasi sewa (contoh: 3 hari)</li>
                    <li>Total biaya (contoh: Rp 150.000)</li>
                    <li>Tombol besar berwarna hijau bertuliskan <strong>"Bayar Sekarang"</strong></li>
                </ul>
                Pelanggan mengklik tombol <strong>"Bayar Sekarang"</strong>.
            </td>
            <td></td>
        </tr>

        <tr class="step-content">
            <td></td>
            <td><strong>Langkah 2:</strong> Sistem menghubungi server Midtrans melalui internet (API Call) untuk meminta
                "Snap Token" (kode unik untuk transaksi ini).
                <div class="note">üí° Snap Token adalah seperti nomor antrian di bank, setiap transaksi punya nomor unik
                    sendiri.</div>
            </td>
        </tr>

        <tr class="step-content">
            <td></td>
            <td><strong>Langkah 3:</strong> Setelah mendapat Snap Token dari Midtrans, sistem menampilkan
                <strong>jendela popup pembayaran</strong> (muncul di tengah layar, menghalangi halaman di belakangnya).
                Popup ini adalah halaman dari Midtrans yang menampilkan berbagai pilihan metode pembayaran:
                <ul>
                    <li>üè¶ <strong>Transfer Bank (Virtual Account):</strong> BCA, BNI, Mandiri, BRI</li>
                    <li>üì± <strong>E-Wallet:</strong> GoPay, OVO, ShopeePay, DANA</li>
                    <li>üî≤ <strong>QRIS:</strong> Scan QR code pakai aplikasi mobile banking apapun</li>
                    <li>üí≥ <strong>Kartu Kredit/Debit:</strong> Visa, Mastercard</li>
                </ul>
            </td>
        </tr>

        <tr class="step-content">
            <td><strong>Langkah 4:</strong> Pelanggan memilih salah satu metode pembayaran. Misalnya mereka pilih
                <strong>"QRIS"</strong>. Maka muncul gambar QR Code besar di layar.</td>
            <td></td>
        </tr>

        <tr class="step-content">
            <td><strong>Langkah 5:</strong> Pelanggan membuka aplikasi mobile banking di HP mereka (contoh: BCA Mobile,
                Mandiri Online, GoPay), lalu memilih menu "Scan QR" atau "Bayar dengan QRIS". Mereka mengarahkan kamera
                HP ke QR Code yang muncul di layar komputer.</td>
            <td></td>
        </tr>

        <tr class="step-content">
            <td><strong>Langkah 6:</strong> Di HP muncul konfirmasi pembayaran dengan nominal Rp 150.000. Pelanggan
                mengklik tombol <strong>"Bayar"</strong> di HP mereka dan memasukkan PIN aplikasi banking.</td>
            <td></td>
        </tr>

        <tr class="step-content">
            <td></td>
            <td><strong>Langkah 7 (Proses di Belakang Layar):</strong> Setelah pelanggan bayar di HP:
                <ol>
                    <li>Uang berpindah dari rekening pelanggan ke rekening Midtrans</li>
                    <li>Server Midtrans langsung mengirim sinyal (webhook) ke sistem kita dengan pesan: <em>"Transaksi
                            dengan Order ID #12345 sudah dibayar!"</em></li>
                    <li>Sistem kita menerima webhook tersebut dan memverifikasi apakah benar-benar dari Midtrans (cek
                        signature/tanda tangan digital)</li>
                </ol>
                <div class="note">üí° Webhook adalah seperti SMS otomatis dari Midtrans ke sistem kita. Prosesnya sangat
                    cepat, biasanya hanya 1-3 detik setelah pembayaran.</div>
            </td>
        </tr>

        <tr class="step-content">
            <td></td>
            <td><strong>Langkah 8:</strong> Sistem kita mengupdate database:
                <ul>
                    <li>Tabel <code>payments</code>: Ubah status dari "pending" menjadi "success"</li>
                    <li>Tabel <code>rentals</code>: Ubah status dari "Pending Payment" menjadi <strong>"Menunggu
                            Pengantaran"</strong></li>
                    <li>Tabel <code>unit_ps</code>, <code>games</code>, <code>accessories</code>: Kurangi stok barang
                        yang disewa (contoh: stok PS5 dari 5 menjadi 4)</li>
                </ul>
            </td>
        </tr>

        <tr class="step-content">
            <td></td>
            <td><strong>Langkah 9:</strong> Popup pembayaran di layar komputer otomatis tertutup dan muncul halaman
                sukses dengan pesan:
                <div style="background-color: #d4edda; padding: 15px; border-left: 4px solid #28a745; margin: 10px 0;">
                    ‚úÖ <strong>Pembayaran Berhasil!</strong><br>
                    Pesanan Anda sedang diproses. Barang akan segera dikirim oleh kurir kami.<br>
                    <em>Nomor Pesanan: #12345</em>
                </div>
            </td>
        </tr>

        <tr class="step-content">
            <td></td>
            <td><strong>Langkah 10:</strong> Sistem mengirim email notifikasi ke pelanggan dengan isi:
                <ul>
                    <li>Bukti pembayaran (invoice PDF)</li>
                    <li>Detail pesanan</li>
                    <li>Estimasi waktu pengiriman</li>
                </ul>
            </td>
        </tr>

        <tr>
            <td class="col-label">Kondisi Akhir</td>
            <td colspan="2">
                Pembayaran berhasil diterima dan diverifikasi. Status pesanan berubah menjadi "Menunggu Pengantaran".
                Kasir akan melihat pesanan ini di dashboard mereka dan mempersiapkan barang untuk dikirim.
            </td>
        </tr>
    </table>

    <div style="text-align: center; margin: 60px 0; padding: 30px; background-color: #e8f5e9; border-radius: 8px;">
        <p style="font-size: 1.1em; color: #2e7d32;">
            <strong>üìù CATATAN PENTING:</strong><br>
            Dokumen ini hanya menampilkan <strong>3 use case sebagai contoh detail</strong> (UC001, UC002, UC007).<br>
            Untuk 19 use case lainnya (UC003-UC006, UC008-UC022), format dan tingkat detail yang sama akan
            diterapkan.<br>
            <br>
            <em>Setiap use case akan menjelaskan:</em><br>
            ‚úì Apa yang dilihat pengguna di layar<br>
            ‚úì Tombol apa yang diklik<br>
            ‚úì Apa yang terjadi di belakang layar (database, validasi, dll)<br>
            ‚úì Pesan error yang mungkin muncul<br>
            ‚úì Hasil akhir yang diharapkan
        </p>
    </div>

    <br><br>
    <div
        style="text-align: center; color: #666; margin-top: 50px; padding: 20px; background-color: #f0f0f0; border-radius: 8px;">
        <strong>AKHIR DOKUMEN CONTOH</strong><br>
        Total: 22 Use Cases (3 ditampilkan detail, 19 lainnya mengikuti format yang sama)<br>
        Author: Alogo Situmorang (235314088) | Tanggal: 16 Desember 2025
    </div>

</body>

</html>